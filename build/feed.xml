<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Jenner Hanni</title>
		<description>Adventures of an aerospace geek in Portland, Oregon.</description>
		<link></link>
		<atom:link href="feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>Opal Creek</title>
				<description>&lt;p&gt;I went down to Salem for breakfast and then headed up through Elkhorn Valley to the Opal Creek Trailhead. Way too many people around and the bridge was out in Jawbone Flats so I hiked just about to the loop trail fork and then went back. I took more time to check out the mine entrances and to explore down by the river. Found a millipede and had some fun thinking of millipede robots.&lt;/p&gt;
&lt;p&gt;The best part of this hike is definitely past Jawbone Flats at the Opal pools but the whole area is beautiful so it was a nice day.&lt;/p&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/7QkvHKyEzLC_TIuRWkoEapAu1578x0GLKp5M7n5tFw=w900-h242-no&quot;&gt;
&lt;img src=&quot;/images/travels/opalcreek/1.png&quot;&gt;
&lt;img src=&quot;/images/travels/opalcreek/2.png&quot;&gt;
&lt;img src=&quot;/images/travels/opalcreek/3.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-jc73ihRtR_M/U4oT3mDddZI/AAAAAAAAGiQ/0hAENfU5eEQ/w900-h288-no/IMG_1786.JPG&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-LM8Gj6qXppw/U4oTaKZQB_I/AAAAAAAAGg0/YMbSuUSeGRU/w869-h652-no/IMG_1789.JPG&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-bgpJt-uVtuk/U4oTa9rGnsI/AAAAAAAAGh4/vQKGWsVrfJM/w869-h652-no/IMG_1792.JPG&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-QwdT59CWGUw/U4oTbDeYYvI/AAAAAAAAGhw/1jYyXSjRJM4/w869-h652-no/IMG_1797.JPG&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-cB_IHyScM58/U4oTbQ8m0rI/AAAAAAAAGhM/ysW_77xWZLQ/w869-h652-no/IMG_1801.JPG&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-HNeba0H35FU/U4oTb1hvwFI/AAAAAAAAGhY/brOFi5YVy4U/w869-h652-no/IMG_1807.JPG&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-ZXi8cFiltzY/U4oTcL3vwPI/AAAAAAAAGhc/PG6d9qLLj84/w869-h652-no/IMG_1809.JPG&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-1KVHcrx-ioA/U4oTcnXKpjI/AAAAAAAAGho/nB7GCx80WVQ/w869-h652-no/IMG_1810.JPG&quot;&gt;</description>
				<pubDate>Sun, 25 May 2014</pubDate>
				<link>http://www.wickerbox.net//2014/05/opal-creek</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/05/opal-creek</guid>
			</item>
		
			<item>
				<title>STM32F4-Discovery Breakout Board</title>
				<description>&lt;p&gt;The STM32F4-Discovery board is a really great dev board that breaks out all the pins to, unfortunately, male headers. All of my sensors have male pins so I finally gave up daisy-chaining female-to-male jumpers and decided to make a breakout board on the &lt;span class=&quot;caps&quot;&gt;LPKF&lt;/span&gt; router in the Electronics Prototyping Lab.&lt;/p&gt;
&lt;p&gt;I was lucky enough to find Jason Lopez&amp;#8217;s Eagle schematic and footprint but I had trouble with the drills so I changed the drill size. Otherwise it saved me a ton of time and effort. Thanks, Jason!&lt;/p&gt;
&lt;p&gt;This is the schematic and board layout for the two-layer board. It&amp;#8217;s really a one-layer board, as the vias aren&amp;#8217;t plated. I ran all the traces on the bottom side of the board so I could place the female headers through from the top.&lt;/p&gt;
&lt;img src=&quot;/images/project/stm32f4discovery/discovery-breakout-sch.png&quot;&gt;
&lt;img src=&quot;/images/project/stm32f4discovery/discovery-breakout-brd.png&quot;&gt;
&lt;p&gt;There are four female headers so the dev board doesn&amp;#8217;t have to be soldered in and four more for the jumpers to attach.&lt;/p&gt;
&lt;img src=&quot;/images/project/stm32f4discovery/IMG_1838.JPG&quot;&gt;
&lt;img src=&quot;/images/project/stm32f4discovery/IMG_1839.JPG&quot;&gt;
&lt;img src=&quot;/images/project/stm32f4discovery/IMG_1840.JPG&quot;&gt;</description>
				<pubDate>Sat, 24 May 2014</pubDate>
				<link>http://www.wickerbox.net//2014/05/stm32f4-discovery-breakout</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/05/stm32f4-discovery-breakout</guid>
			</item>
		
			<item>
				<title>Garden Update</title>
				<description>&lt;p&gt;We&amp;#8217;re having our usual scattered, unpredictable mix of thunderstorms, warm rain, hail, brilliant sunshine, and blue skies, so the garden has exploded in size over the last couple of weeks.&lt;/p&gt;
&lt;p&gt;The irrigation stuff arrived. My cat approves.&lt;/p&gt;
&lt;img src=&quot;/images/project/garden2/IMG_1663_crop.JPG&quot;&gt;
&lt;img src=&quot;/images/project/garden2/IMG_1669.JPG&quot;&gt;
&lt;img src=&quot;/images/project/garden2/IMG_1670.JPG&quot;&gt;
&lt;img src=&quot;/images/project/garden2/IMG_1673.JPG&quot;&gt;
&lt;p&gt;My boss started tomatoes from seed and ended up with too many so I now have way more tomatoes than I know what to do with. I&amp;#8217;m going to move over some of the broccoli and cabbage from the right-hand box to the tomato box to make some room.&lt;/p&gt;
&lt;img src=&quot;/images/project/garden2/IMG_1674.JPG&quot;&gt;</description>
				<pubDate>Tue, 20 May 2014</pubDate>
				<link>http://www.wickerbox.net//2014/05/garden-update</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/05/garden-update</guid>
			</item>
		
			<item>
				<title>McCall Point</title>
				<description>&lt;p&gt;I went with some friends up to McCall Point on the plateau east of Mosier, Oregon, for a Mother&amp;#8217;s Day hike.&lt;/p&gt;
&lt;p&gt;First we stopped briefly in Mosier.&lt;/p&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-H_UvL1FRdNs/U3PC2K_G4eI/AAAAAAAAGck/FFVHPUI-h78/w489-h652-no/095.JPG&quot;&gt;
&lt;p&gt;Then we headed up to the plateau and started off towards McCall Point. It&amp;#8217;s a little less than 1100&amp;#8217; elevation gain over two miles.&lt;/p&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-bw4YYg-c3-g/U3PC3ffKuvI/AAAAAAAAGdA/x1I9dhGV08w/w800-h600-no/113.JPG&quot;&gt;
&lt;p&gt;Looking back at the Washington State town of Lyle.&lt;/p&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-JDlC8gnmnAo/U3PC3YJQoBI/AAAAAAAAGc0/i7Jh3ZLCLD0/w800-h600-no/120.JPG&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-TteVE4zTmsc/U3PC34ktqKI/AAAAAAAAGc4/k3nYr6KLS68/w800-h600-no/130.JPG&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-6oDnMIwBvJQ/U3PC5rkpcoI/AAAAAAAAGdg/TPSz1uBi0jg/w800-h600-no/134.JPG&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-j-fCJoHO3e8/U3PC6NAXWsI/AAAAAAAAGdc/FZcglWMF9-Q/w800-h600-no/150.JPG&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-xL7BFwxpQwg/U3PC7MBwPqI/AAAAAAAAGdw/5TALuso2sQk/w800-h600-no/151.JPG&quot;&gt;
&lt;img src=&quot;/images/project/misc/mccall-blended.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-ED8ngLYasLU/U3PC8tzai_I/AAAAAAAAGeM/7KhnsUncAZs/w800-h600-no/156.JPG&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-u1Ofr4DYDcI/U3PC8i27lyI/AAAAAAAAGeE/CmKm3Gi8srw/w800-h600-no/157.JPG&quot;&gt;
&lt;p&gt;The trail loops around the meadow at the top, perfect for a picnic.&lt;/p&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-2zWNs0tTXsI/U3PC9PuxTWI/AAAAAAAAGeU/ECckBPTZR5c/w800-h600-no/178.JPG&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-oVFJnsVkiPo/U3PC9vuc20I/AAAAAAAAGeg/MTvZQFSPc94/w800-h600-no/183.JPG&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-C-dwR9EvHTQ/U3PC-fGlT_I/AAAAAAAAGec/5D8WwKxgGfw/w800-h600-no/184.JPG&quot;&gt;</description>
				<pubDate>Sun, 11 May 2014</pubDate>
				<link>http://www.wickerbox.net//2014/05/mccall-point</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/05/mccall-point</guid>
			</item>
		
			<item>
				<title>Marlboro College</title>
				<description>&lt;p&gt;A friend of mine went off to a tiny liberal arts college on a hilltop in Vermont to get a philosophy and literature degree, which might be the exact opposite of what I&amp;#8217;ve done in every way, so I went out to visit him shortly before graduation. I arrived in Boston just after midnight, rented a car, and drove through New Hampshire to Vermont.&lt;/p&gt;
&lt;p&gt;These are just some photos for my own memories. The woods in particular were beautiful. Marlboro, like the rest of the East Coast, experienced a super cold winter that lingered into May, though I guess the snow had melted right before I got there. Walking and talking on the trails was satisfying, and everywhere there were glimpses of other people having been there: sculptures, little shrines, art.&lt;/p&gt;
&lt;img src=&quot;/images/travels/marlboro/007.JPG&quot;&gt;
&lt;img src=&quot;/images/travels/marlboro/012.JPG&quot;&gt;
&lt;p&gt;Dalrymple and the back of the library. I didn&amp;#8217;t take many photos since I was too busy hanging out, but I wanted to have something visual to remember.&lt;/p&gt;
&lt;img src=&quot;/images/travels/marlboro/022.JPG&quot;&gt;
&lt;img src=&quot;/images/travels/marlboro/023.JPG&quot;&gt;
&lt;p&gt;Googly eyes stuck on National Geographic cut-outs around the house.&lt;/p&gt;
&lt;img src=&quot;/images/travels/marlboro/024.JPG&quot;&gt;
&lt;img src=&quot;/images/travels/marlboro/032.JPG&quot;&gt;</description>
				<pubDate>Mon, 05 May 2014</pubDate>
				<link>http://www.wickerbox.net//2014/05/marlboro-college-vermont</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/05/marlboro-college-vermont</guid>
			</item>
		
			<item>
				<title>Square Foot Plan</title>
				<description>&lt;p&gt;This is the layout of the beds:&lt;/p&gt;
&lt;p&gt;I planted in the right-hand two beds. They&amp;#8217;re each 3 feet wide by 6 feet long by 2 feet high. I bought a couple of blueberries and potted them in between the raised beds. I&amp;#8217;m watering by hand until the irrigation stuff arrives.&lt;/p&gt;
&lt;img src=&quot;/images/project/garden1/IMG_1607.JPG&quot;&gt;
&lt;img src=&quot;/images/project/garden1/IMG_1608.JPG&quot;&gt;
&lt;img src=&quot;/images/project/garden1/IMG_1610.JPG&quot;&gt;</description>
				<pubDate>Wed, 30 Apr 2014</pubDate>
				<link>http://www.wickerbox.net//2014/04/square-foot-plan</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/04/square-foot-plan</guid>
			</item>
		
			<item>
				<title>Foxcar Board Build</title>
				<description>&lt;img src=&quot;/images/project/foxcar/controlboardv1-oshpark.png&quot;&gt;
&lt;p&gt;Just a quick update to say the Foxcar Control Board is built! I left the &lt;span class=&quot;caps&quot;&gt;ENABLE&lt;/span&gt; pin unconnected on the voltage regulator (this is what I get for not seeking out a design review&amp;#8230;) so I had to short that pin to &lt;span class=&quot;caps&quot;&gt;VCC&lt;/span&gt;. With that done, plugging into the &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt; successfully illuminated the 3.3V and &lt;span class=&quot;caps&quot;&gt;VIN&lt;/span&gt; LEDs, so power is theoretically available to both the STM32F4 and the motor driver chip.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/IMG_1830.JPG&quot;&gt;
&lt;p&gt;I did tear off the microUSB when trying to disconnect the &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt; cable so I resolve from now on to always choose &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt; packages with anchoring slots. I had to &lt;span class=&quot;caps&quot;&gt;RTV&lt;/span&gt; it down, resolder, and then just ripped it up again so I gave up and switched over to providing power from the 7V LiPo directly.&lt;/p&gt;
&lt;p&gt;Turns out that worked fine too, at least at first, so the LEDs for &lt;span class=&quot;caps&quot;&gt;VIN&lt;/span&gt; and 3.3V were lit as expected but I definitely had a short from 3.3V to &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt; somewhere and I made a little volcano in the middle of my STM32F4 chip.&lt;/p&gt;
&lt;p&gt;While I wait to get a chance to rework, including remove/replacing that chip, I&amp;#8217;m going back to prototyping on the STM32F4 Discovery board.&lt;/p&gt;
&lt;img src=&quot;/images/project/foxcar/IMG_1847.JPG&quot;&gt;</description>
				<pubDate>Wed, 30 Apr 2014</pubDate>
				<link>http://www.wickerbox.net//2014/04/foxcar-board-build</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/04/foxcar-board-build</guid>
			</item>
		
			<item>
				<title>Cape Lookout</title>
				<description>&lt;p&gt;I took the Nestucca Byway out of Carlton to Beaver to 101. Saw eagle and deer and lots of anglers.&lt;/p&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-2hTAeNo01ZY/UzMdOhiqs2I/AAAAAAAAGWo/GqwaA3QkKNM/w873-h295-no/IMG_1090.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-TzZIxIHNkv4/UzMdOqhs9EI/AAAAAAAAGW4/MWT55-YtxDA/w873-h599-no/IMG_1092.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-YFDT5K_zrKk/UzMdOjarf9I/AAAAAAAAGWw/YpUIFz8eaYo/w873-h302-no/IMG_1093.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-QWm6ogIFz1s/UzMdPs288kI/AAAAAAAAGXA/CSC71YeVpPI/w873-h268-no/IMG_1095.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-1tnAhWfcQrc/UzMdP53bYcI/AAAAAAAAGXY/lZdUX7HVfT0/w873-h655-no/IMG_1100.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-ifFAjDr6kMc/UzMdQG3bZ9I/AAAAAAAAGXE/WsZZpBRxUHM/w873-h521-no/IMG_1110.png&quot;&gt;
&lt;p&gt;Hike to the point at Cape Lookout.&lt;/p&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-6iSHASZWjAQ/UzMdQY_zbPI/AAAAAAAAGXQ/1Jw4qo0DOUA/w491-h655-no/IMG_1117.png&quot;&gt;
&lt;p&gt;Spent a while watching surfers down below.&lt;/p&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-lF8s4-KJ3UI/UzMdSK8yMJI/AAAAAAAAGXg/VlxLFpVDFyw/w873-h655-no/IMG_1128.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-B27xs9uI0ro/UzMdSFZahBI/AAAAAAAAGXo/LrLzRnhBrNk/w873-h655-no/IMG_1133.png&quot;&gt;
&lt;p&gt;Plenty of people were hanging out. There were a couple groups of gray whales passing by, one of which hung out for a while, probably feeding.&lt;/p&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-sKZu0bLg21g/UzMeFPDB6jI/AAAAAAAAGYE/_T03t3SHJmo/w873-h655-no/IMG_1136.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-6ow-RXKQUHQ/UzMeGKyYVmI/AAAAAAAAGYU/x4pMwh-UZL8/w873-h193-no/IMG_1138.png&quot;&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-20bk5NMxsr4/UzMeGLKXyRI/AAAAAAAAGYc/bfAQjyy0wuI/w873-h654-no/IMG_1144.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-3Tlsd0BSHek/UzMeF6OwMaI/AAAAAAAAGYY/2phAjlZ6DwQ/w873-h499-no/IMG_1145.png&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-OWqPc-oMDQU/UzMeGwyx-fI/AAAAAAAAGYw/o2gY8I0mIcE/w873-h655-no/IMG_1151.png&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-yw-E6Gqyqsw/UzMeHMjhXsI/AAAAAAAAGYs/c5Dfvbnkrtk/w873-h655-no/IMG_1152.png&quot;&gt;
&lt;p&gt;I headed home via Tillamook but stopped for a minute at the viewpoint south of town.&lt;/p&gt;
&lt;img src=&quot;https://lh3.googleusercontent.com/-KnS4E-6dQeA/UzMeH4tzGcI/AAAAAAAAGY4/E9yYQ7JVMXY/w873-h655-no/IMG_1155.png&quot;&gt;</description>
				<pubDate>Sun, 23 Mar 2014</pubDate>
				<link>http://www.wickerbox.net//2014/03/cape-lookout</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/03/cape-lookout</guid>
			</item>
		
			<item>
				<title>Building Raised Beds</title>
				<description>&lt;p&gt;Getting started with the garden this year. Last year I did all right with veggies but they were in the ground and it could have been better. Also, I have the smallest backyard ever.&lt;/p&gt;
&lt;p&gt;There are three 3&amp;#8242;&amp;#215;6&amp;#8242; beds about 20&amp;quot; high. I used cedar fence boards and pine studs, then coated them with linseed oil. Total cost was about $100 and one day&amp;#8217;s work.&lt;/p&gt;
&lt;img src=&quot;/images/project/raisedbeds/setup.png&quot;&gt;
&lt;img src=&quot;/images/project/raisedbeds/second-box.png&quot;&gt;
&lt;img src=&quot;/images/project/raisedbeds/left-finish.png&quot;&gt;
&lt;img src=&quot;/images/project/raisedbeds/right-finish.png&quot;&gt;
&lt;img src=&quot;/images/project/raisedbeds/cropped-pano.png&quot;&gt;</description>
				<pubDate>Sun, 16 Mar 2014</pubDate>
				<link>http://www.wickerbox.net//2014/03/raised-beds</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/03/raised-beds</guid>
			</item>
		
			<item>
				<title>Image Convolution in C</title>
				<description>&lt;h5&gt;Introduction&lt;/h5&gt;
&lt;p&gt;This project performs pixel-by-pixel convolution on a 2-dimensional image of height and width less than 900 pixels. I wanted to really grok convolution and I wanted a program I could run on the command line with a script so I could compare different kernel matrices.&lt;/p&gt;
&lt;p&gt;Apart from the convolution program itself, I wrote a small helper program called GetPixels that uses OpenCV to turn an image into a text file of grayscale pixel values and vice versa.&lt;/p&gt;
&lt;p&gt;This project follows from my previous &lt;a href=&quot;#&quot;&gt;SystemVerilog&lt;/a&gt; implementation but I lack access to a decent SysV simulator and felt C would work just fine.&lt;/p&gt;
&lt;p&gt;The code is available at &lt;a href=&quot;http://github.com/wicker/image-processing/&quot;&gt;my GitHub repository&lt;/a&gt;.&lt;/p&gt;
&lt;img src=&quot;/images/project/convolution/c-introimg.png&quot;&gt;
&lt;h5&gt;GetPixels&lt;/h5&gt;
&lt;p&gt;First of all, the convolution program takes a text file of 8-bit grayscale pixel values with values between 0 (black) and 255 (white). GetPixels is a small OpenCV-based tool to turn a gray or color image into a text file of pixel values and back again. Check out &lt;a href=&quot;/2014/03/getpixels/&quot;&gt;the full GetPixels instructions here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Basically, GetPixels takes an input &lt;span class=&quot;caps&quot;&gt;PNG&lt;/span&gt; and outputs a text file with the grayscale value of the pixels separated by a space, like this:&lt;/p&gt;
&lt;p&gt;164 165 165 165 165 164 165 165 165 164 165 166&lt;/p&gt;
&lt;p&gt;At the end, once you&amp;#8217;ve performed convolution with your kernel, GetPixels can take the modified input text file with grayscale pixel values separated by spaces and returns an output image.&lt;/p&gt;
&lt;p&gt;Usage: &lt;code&gt;./GetPixels.o &amp;lt;operation&amp;gt; &amp;lt;input file&amp;gt; &amp;lt;output file&amp;gt; &amp;lt;width&amp;gt; &amp;lt;height&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;operation&amp;gt; is 1 for image -&amp;gt; text file or 2 for text file -&amp;gt; image&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&amp;lt;image file&amp;gt; is the relative path name to an image file&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&amp;lt;pixel file&amp;gt; is the relative path name to a text file of pixels&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&amp;lt;width&amp;gt; is the width of the image in pixels&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&amp;lt;height&amp;gt; is the height of the image in pixels&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To get a text file of the pixels of a 800&amp;#215;600 mountain.png, try this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./GetPixels.o 1 mountain.png pixels.txt 800 600&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To reconstruct an image from that pixel file, try this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./GetPixels.o 2 mountainReconstructed.png pixels.txt 240 320&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Note: if you don&amp;#8217;t change the pixel values by convolution or other way, then mountain.png and mountainReconstructed.png should be identical. It&amp;#8217;s a good way to check that the program works.&lt;/p&gt;
&lt;h5&gt;Convolution&lt;/h5&gt;
&lt;p&gt;The convolution program works by shoving an image&amp;#8217;s pixel values into an array and iterating over them with a convolution kernel matrix. The program takes arguments to specify input and output file names along with the number of kernels (1 or 2), kernel size (odd numbers between 1 and 17), and kernel coefficients (integers).&lt;/p&gt;
&lt;p&gt;Usage:  ./main.o &lt;input.txt&gt; &lt;width&gt; &lt;height&gt; &lt;op&gt; &lt;kernel&gt; &lt;norm&gt; &lt;output.txt&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;input.txt&lt;/code&gt; is the text file containing grayscale image pixel values.  &lt;br /&gt;
&lt;code&gt;width&lt;/code&gt; in pixels, same as number of columns in image.  &lt;br /&gt;
&lt;code&gt;height&lt;/code&gt; in pixels, same as number of rows in image.  &lt;br /&gt;
&lt;code&gt;op&lt;/code&gt; is (1) a horizontal 1d, (2) a vertical 1d, or (3) custom kernel to be entered by the user.  &lt;br /&gt;
&lt;code&gt;kernel&lt;/code&gt; is the N in the NxN kernel matrix that must be an odd number between 1 and 17.  &lt;br /&gt;
&lt;code&gt;norm&lt;/code&gt; is (0) no or (1) yes to normalize (divide by number of coefficients) the image.  &lt;br /&gt;
&lt;code&gt;output.txt&lt;/code&gt; is the text file to store resulting grayscale image pixel values.&lt;/p&gt;
&lt;p&gt;To perform a custom 2D operation on a 240&amp;#215;320 image with a 5&amp;#215;5 filter kernel that will be normalized:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./main.o input.txt 240 320 3 5 1 output.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To perform a 1D horizontal operation on the same 240&amp;#215;320 image with a 3&amp;#215;3 filter kernel that will not be normalized:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./main.o input.txt 240 320 1 3 0 output.txt&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;Scripting Example&lt;/h5&gt;
&lt;p&gt;I put the following in a script to run a bunch of kernels all in a row. I used the same input image (brokentop.txt) but saved the outputs to their own files so I could reconstruct them with GetPixels at the end. The image is a portrait size of 240&amp;#215;320. I chose to do a single custom 3&amp;#215;3 operation and none of them are to be normalized.&lt;/p&gt;
&lt;p&gt;First, I turned the brokentop.png image into a text file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./GetPixels.o 1 brokentop.png brokentop.txt 240 320&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then I performed the operations, creating six output text files with the results.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-horz.txt&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-sobel-h.txt &lt;/code&gt; &lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-vert.txt&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-sobel-v.txt&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-45deg.txt&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 3 3 0 output-135deg.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finally, I reconstructed images from the output files so I could look at them in an image viewer.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./GetPixels.o 2 output-horz.png output-horz.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 output-sobel-h.png output-sobel-h.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 output-vert.png output-vert.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 output-sobel-v.png output-sobel-v.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 output-45deg.png output-45deg.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 output-135deg.png output-135deg.txt 240 320&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For each operation, the program prompted me to enter the coefficients from left to right by hand but I have a couple options for how to enter them. Using the kernel for a Sobel horizontal operator, I can enter the coefficients all on one line like this,&lt;/p&gt;
&lt;p&gt;&lt;code&gt; +1 +2 +1 0 0 0 -1 -2 -1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;or I can enter them by lines like this,&lt;/p&gt;
&lt;p&gt;&lt;code&gt;+1 +2 +1&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;0 0 0 &lt;/code&gt;&lt;br /&gt;
&lt;code&gt;-1 -2 -1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;which can be easier to read. Finally, I can enter them all like this,&lt;/p&gt;
&lt;p&gt;&lt;code&gt;+1&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;+2  &lt;/code&gt; &lt;br /&gt;
&lt;code&gt;+1&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;0&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;0&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;0&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;-1&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;-2&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;-1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;so it really doesn&amp;#8217;t matter. I ended up writing them in the second form in a text file and copying/pasting. That way the test is built before I start and the results come out without needing editing.&lt;/p&gt;
&lt;p&gt;The image on the left is the original brokentop.png. The image on the right is what it&amp;#8217;s turned into by GetPixels when the text file brokentop.txt is created.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Original image&lt;br /&gt;
&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/brokentop.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;GetPixels result&lt;br /&gt;
&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/results-delta.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;The script lets you quickly do things like compare the six operations above when normalized (flag set to &amp;#8216;1&amp;#8217;) and not normalized (flag set to &amp;#8216;0&amp;#8217;). Here are the results of the convolution operations when they are not normalized. They&amp;#8217;re still very high noise, because the only filtering was high pass, which is effectively trying to find every edge in the image.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Horizontal Filter&lt;br /&gt;
-1 -1 -1 &lt;br /&gt;
2 2 2&lt;br /&gt;
-1 -1 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-horz.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Sobel Horizontal Filter&lt;br /&gt;
-1 -2 -1&lt;br /&gt;
0 0 0 &lt;br /&gt;
1 2 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-sobel-h.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Vertical Filter&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-vert.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Sobel Vertical Filter&lt;br /&gt;
-1 0 1 &lt;br /&gt;
-2 0 2&lt;br /&gt;
-1 0 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-sobel-v.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;45 Degrees&lt;br /&gt;
-1 -1 2&lt;br /&gt;
-1 2 -1&lt;br /&gt;
2 -1 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-45deg.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;135 Degrees&lt;br /&gt;
2 -1 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 -1 2&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/not-normed/output-135deg.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;Normalizing, on the other hand, provides a low pass effect and helps to smooth out the resulting image. These images were normalized after the filter. I ran the script in a fresh directory but passed a &amp;#8216;1&amp;#8217; to the &lt;code&gt;&amp;lt;norm&amp;gt;&lt;/code&gt; flag instead of a 0. You can tell these are much more useful images.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Horizontal Filter&lt;br /&gt;
-1 -1 -1 &lt;br /&gt;
2 2 2&lt;br /&gt;
-1 -1 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-horz.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Sobel Horizontal Filter&lt;br /&gt;
-1 -2 -1&lt;br /&gt;
0 0 0 &lt;br /&gt;
1 2 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-sobel-h.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Vertical Filter&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-vert.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Sobel Vertical Filter&lt;br /&gt;
-1 0 1 &lt;br /&gt;
-2 0 2&lt;br /&gt;
-1 0 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-sobel-v.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;45 Degrees&lt;br /&gt;
-1 -1 2&lt;br /&gt;
-1 2 -1&lt;br /&gt;
2 -1 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-45deg.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;135 Degrees&lt;br /&gt;
2 -1 -1&lt;br /&gt;
-1 2 -1&lt;br /&gt;
-1 -1 2&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/normed/output-135deg.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;h5&gt;How Convolution Works&lt;/h5&gt;
&lt;p&gt;Pixel by pixel, the kernel matrix is placed with the pixel of interest in the center. Each coefficient in the matrix is multiplied by the neighboring pixel it covers. The values are then added up and may or may not normalized.&lt;/p&gt;
&lt;p&gt;Choose the kernel matrix wisely! Kernel matrices are the discrete version of a continuous filtering function and you can develop your own or adapt the common ones.&lt;/p&gt;
&lt;p&gt;In edge cases where the some of the coefficients in the kernel matrix fall off the edge of the image and don&amp;#8217;t have corresponding pixels to multiply against, this program tracks how many coefficients weren&amp;#8217;t used and only adds and/or calculates an average for the ones which were. There is no wrapping, mirroring, or other border tricks. The pixels are just ignored.&lt;/p&gt;
&lt;p&gt;The program also checks if a value is greater than 255 or less than zero, and bounds the value accordingly.&lt;/p&gt;
&lt;h5&gt;Delta Function&lt;/h5&gt;
&lt;p&gt;To produce a control image for each set run, use a delta function. The delta function multiplies all the other pixels by zero so the only value to be output is the pixel itself. Obviously, a delta function should not be normalized.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Original image&lt;br /&gt;
&amp;nbsp;&lt;br /&gt;
&amp;nbsp;&lt;br /&gt;
&amp;nbsp;&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/brokentop.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Delta function&lt;br /&gt;
0 0 0&lt;br /&gt;
0 1 0 &lt;br /&gt;
0 0 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/results-delta.png&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;h5&gt;Common Kernels &amp;#8211; Rabbit Example&lt;/h5&gt;
&lt;p&gt;This is a set of examples showing high and low pass kernels from &lt;a href=&quot;http://en.wikipedia.org/wiki/Kernel_%28image_processing%29&quot;&gt;the Wikipedia image processing kernel page&lt;/a&gt; on a Wikipedia Creative Commons-licensed rabbit image.&lt;/p&gt;
&lt;p&gt;The delta image is the original image in grayscale.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Delta&lt;br /&gt;
0 0 0&lt;br /&gt;
0 1 0 &lt;br /&gt;
0 0 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/rabbit-kernel-delta.png&quot;&gt;&lt;/div&gt;
&lt;h5&gt;Rabbit Example &amp;#8211; Low Pass Filters&lt;/h5&gt;
&lt;p&gt;Low pass filters like a blur are generally normalized. The most common is a Gaussian distribution, which these are not. To get more of a blur, just enlarge the kernel.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Blur #1 (Normalized)&lt;br /&gt;
1 2 1 &lt;br /&gt;
2 4 2&lt;br /&gt;
1 2 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/output-blur1.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Blur #2 (Normalized)&lt;br /&gt;
1 1 1 &lt;br /&gt;
1 1 1 &lt;br /&gt;
1 1 1 &lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/output-blur2.png&quot;&gt;&lt;/div&gt;
&lt;h5&gt;Rabbit Example &amp;#8211; High Pass Filters&lt;/h5&gt;
&lt;p&gt;High Pass filters are used for edge enhancement, edge detection, embossing, sharpening, or any operation where you want to bring attention to the difference between two pixels. The sharpen operation below is not normalized; the others are.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Sharpen&lt;br /&gt;
0 -1 0 &lt;br /&gt;
-1 5 -1&lt;br /&gt;
0 -1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/sharpen.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge #1&lt;br /&gt;
1 0 -1&lt;br /&gt;
0 0 0 &lt;br /&gt;
-1 0 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/rabbit-kernel-edge1.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge #2&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -4 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/rabbit-kernel-edge2.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge #3&lt;br /&gt;
-1 -1 -1 &lt;br /&gt;
-1 8 -1 &lt;br /&gt;
-1 -1 -1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/rabbit-kernel-edge3.png&quot;&gt;&lt;/div&gt;
&lt;h5&gt;Kernel Sum (Brightness)&lt;/h5&gt;
&lt;p&gt;There are three things &amp;#8211; luminance (brightness), hue, and saturation. We&amp;#8217;re working with grayscale values so we ignore hue and saturation. We&amp;#8217;re left with an 8-bit brightness value. That means that if the sum of our kernel is greater than one, we&amp;#8217;re going to get pixel values at greater than we started with, which is a brighter image. If the kernel is less than one, we&amp;#8217;ll get a darker image.&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = -2)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -6 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-m2.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = -1)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -5 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-m1.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = 0)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -4 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-0.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = 1)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -3 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-p1.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = 2)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -2 1 &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-p2.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;Edge (Sum = 3)&lt;br /&gt;
0 1 0 &lt;br /&gt;
1 -1 1  &lt;br /&gt;
0 1 0&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/laplace-pos/output-sum-p3.png&quot;&gt;&lt;/div&gt;
&lt;h5&gt;1D Examples&lt;/h5&gt;
&lt;p&gt;These two images just have the 1-dimensional horizontal matrix specified. The left image is a blur and the right is a 3&amp;#215;3 edge.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./GetPixels.o 1 brokentop.png brokentop.txt&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 1 9 1 1d-blur.txt&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./main.o brokentop.txt 240 320 1 3 1 1d-edge.txt&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 1d-blur.png 1d-blur.txt 240 320&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;./GetPixels.o 2 1d-edge.png 1d-edge.txt 240 320&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;convolution&quot;&gt;9&amp;#215;9 Blur (Normalized)&lt;br /&gt;
1 1 1 1 1 1 1 1 1 &lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/1d-blur.png&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;convolution&quot;&gt;3&amp;#215;3 Edge (Normalized)&lt;br /&gt;
-1 0 1&lt;br /&gt;
&lt;img src=&quot;/images/project/convolution/results/1d-edge.png&quot;&gt;&lt;/div&gt;</description>
				<pubDate>Sat, 15 Mar 2014</pubDate>
				<link>http://www.wickerbox.net//2014/03/convolution-in-c</link>
				<guid isPermaLink="true">http://www.wickerbox.net//2014/03/convolution-in-c</guid>
			</item>
		
	</channel>
</rss>

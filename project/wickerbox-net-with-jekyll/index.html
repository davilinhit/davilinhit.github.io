<!doctype html>  
<!--[if lt IE 7 ]> <html lang="en-us" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en-us" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-us" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en-us" class="no-js ie9"> <![endif]-->   
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en-us"> <!--<![endif]-->

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" >
  <meta charset="utf-8">
  <meta name="author" content="Jenner Hanni">

  
    <title>Making Wickerbox | Wickerbox</title>
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <!-- Load jQuery and jQuery UI -->
  <script src="http://code.jquery.com/jquery-1.8.2.js"></script>

  

  <!-- Fluid 960 Grid System -->
  <link rel="stylesheet" type="text/css" href="/css/fluid960/reset.css" />
  <link rel="stylesheet" type="text/css" href="/css/fluid960/text.css" />
  <link rel="stylesheet" type="text/css" href="/css/fluid960/grid.css" />
  <link rel="stylesheet" type="text/css" href="/css/fluid960/layout.css" />
  <link rel="stylesheet" type="text/css" href="/css/fluid960/nav.css" />
  <!--[if IE 6]><link rel="stylesheet" type="text/css" href="/css/fluid960/ie6.css" /><![endif]-->
  <!--[if IE 7]><link rel="stylesheet" type="text/css" href="/css/fluid960/ie.css" /><![endif]-->

  <!-- Properties -->
       <meta property="og:site_name" content="Wickerbox"/>
       <meta property="og:title" content="Making Wickerbox"/>
       
          <meta property="og:description" content="Building Wickerbox as a dynamically-generated static site."/>
       

  <!-- Typekit --> 
        <script type="text/javascript" src="http://use.typekit.com/xvs6rfx.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  

  

</head>

<body>

<header class="container_12">

    <div class="grid_3">
      <h1><a href="/index.html">Wickerbox</a></h1>
    </div>

    <div class="nav grid_6">
      <ul>
	<li><a href="/about/">About</a></li>
	<li><a href="/projects/">Projects</a></li>
	<li><a href="/travels/">Travels</a></li>
	<li><a href="/aviation-history/">History</a></li>
	<li><a href="/blog/">Blog</a></li>
	<li><a href="/two-cats/">Cats</a></li>
      </ul>
    </div>

    <div class="logo grid_3">
      <ul>
        <li><a href="https://plus.google.com/117081002500022017940/" rel="publisher" target="_new"><img align="middle" src="/images/icons/googleplus.png" alt="G+"></a></li>
        <li><a href="http://github.com/wicker"><img src="/images/icons/github.png" alt="GH" align="middle"></a></li>
        <li><a href="http://www.linkedin.com/profile/view?id=43039351&trk=tab_pro"><img src="/images/icons/linkedin.png" alt="LIn" align="middle"></a></li>
        <li><a href="#"><img src="/images/icons/feed.png" alt="RSS" align="middle"></a></li>
      </ul>
    </div>

  <div class="clear"></div>

</header>

<section class="container_12 mainbody">

    <!-- This is probably a project page -->

    <div class="grid_1">&nbsp;</div>
    <div class="grid_2 textbox">
        <h3>Making Wickerbox</h3>
        <h4 style="text-align:center;">2012 ~ Portland, Oregon</h4>
          <div style="text-align:center; margin: 0 auto; width:100%;">
          <img src="/images/thumbs/wickerbox.png" style="border: 3px solid #000; margin: 0 auto; text-align:center; width: 100px; height: 75px; margin: 10px;" />
          </div>
    </div>
    <div class="grid_8 textbox last">
        <div class="inside"><p>Wickerbox is a dynamically-generated static site served to you using Jekyll and Github Pages.</p>
<p>Originally a place to store my travel photos so I could pass the link around to family and friends, Wickerbox didn&#8217;t become a proper portfolio until I realized much of my schoolwork at Portland State was already digital and therefore easy to display.</p>
<p>Wickerbox is static in that it does not require a server-side database in order to serve up pages. I came from Wordpress using MySQL and <span class="caps">PHP</span> and wanted something simpler. (ha!) Also, I&#8217;m a big fan of git for revision control.</p>
<h2>Requirements</h2>
<p>Wickerbox will be&#8230;</p>
<p>- a static site<br />
- support tagged entries<br />
- support photo posts, project posts, and writing posts<br />
- have two layout files (default.html, post.html)<br />
- have a single custom.css after the gridwork css files are in place<br />
- updated by adding a .textile file to _posts and running a single script<br />
- utilize two github repositories: one backend, one to serve frontend</p>
<p>Photo posts will</p>
<p>- contain a gallery box that will source photos from Picasa<br />
- allow for text after the gallery box<br />
- be collected on their own page<br />
- be tagged<br />
- have a very short descriptor for the travel page</p>
<p>Project posts will</p>
<p>- optionally contain a gallery to source photos from Picasa   <br />
- support in-line photos sourced from images folder<br />
- collected on their own page<br />
- be tagged<br />
- optionally call the MathJax script</p>
<p>Writing posts will</p>
<p>- not contain a gallery<br />
- be text-only blog posts<br />
- collected on their own page<br />
- be tagged</p>
<h2>Implementation</h2>
<p>I wrote the layout files to include:</p>
<p>&#8230; a <span class="caps">CSS</span> framework called <a href="http://www.columnal.com/">Columnal</a> on a 960px grid to make the site fluid and mobile-friendly.</p>
<p>&#8230; a gallery setup called <a href="http://galleria.io/">Galleria</a> to display the photos. It doesn&#8217;t automatically resize so it&#8217;s not an ideal solution.</p>
<p>&#8230; the free version of <a href="https://typekit.com/fonts">Typekit</a> to provide the title fonts over the web.</p>
<p>I also used the <a href="http://www.picasaweb.google.com">Picasa Web Albums</a> albumid and userid to identify from which album to source images. This was all external so those albums had to be marked â€˜public&#8217; to be seen.</p>
<p>The source files were collected as shown below. _folders are standard folders required by Jekyll. The _config.yml file ignores the drafts and scripts folder. Drafts/ contains unfinished posts with proper headers. Scripts contains the wickerbox script to update with one input line in a terminal with internet access.</p>
<div class="code">css/ <br />
drafts/ <br />
images/ <br />
_layouts/ <br />
_plugins/ <br />
_posts/ <br />
scripts/ <br />
_site/</div> 
<p>The html files below are the main pages of the site that you see linked in the menu above.</p>
<div class="code">about.html<br />
index.html<br />
projects.html<br />
travels.html<br />
two-cats.html<br />
writing.html</div>
<p>The configuration file gives Jekyll its rules for the actual generation of the site files which are stored in _site.</p>
<div class="code">_config.yml</div>
<h2>Tags</h2>
<p>I&#8217;m using a <a href="http://recursive-design.com/projects/jekyll-plugins/">Jekyll page tag generator</a> written by Dave Perrett which Just Works.</p>
<h2><span class="caps">YAML</span> Header</h2>
<p>All posts, no matter the type, contain the layout, title, tags, purpose, year, description, and location lines. Description is served up in the header as well as on social networking sites like Google Plus. The section pages collect their lists of posts by testing category.</p>
<p>Photos additionally contain the albumid and userid of the associated Picasa album.</p>
<p>Photo and project posts both contain an image tag which calls a thumbnail for display on travels.html and projects.html.</p>
<p>Any post which contains explicitly sets comments:true will place a Disqus comment thread following the text and images of the post.</p>
<div class="code">- &#8211; -<br />
layout: post<br />
title: Making Wickerbox<br />
category: project<br />
tags:<br />
- jekyll<br />
- sites<br />
- projects<br />
purpose: project<br />
year: 2012<br />
description: Building Wickerbox as a dynamically-generated static site.<br />
location: Portland, Oregon<br />
<br />
image: /images/thumbs/wickerbox.png<br />
<br />
userid: 117081002500022017940<br />
useralbum: FlyingOshkosh030708<br />
<br />
comments: true<br />
- &#8211; -</div>
<h2>_config.yml</h2>
<p>This is a standard setup for Jekyll sites.</p>
<p>I test updates locally by running jekyll &#8212;server in the base back-end directory. This applies all the posts to the layout files and puts the generated pages into _site, then serves up _site to a local webserver instance which can be viewed by entering http://localhost:4000/ into a browser.</p>
<p>This allows for local fixes before pushing to Github. Typekit and Disqus do not display on my local server instance so I found it necessary to do some live testing.</p>
<div class="code">safe:        false<br />
auto:        false<br />
server:      false<br />
server_port:     4000<br />
<br />
source:      .<br />
destination:     ./<em>site<br />
plugins:     ./</em>plugins<br />
<br />
future:      true<br />
lsi:             false<br />
pygments:    false<br />
markdown:    liquid<br />
permalink:       /:categories/:title<br />
<br />
title:           Wickerbox<br />
description:     World travel photos, airplanes, avionics, rockets, robots, linux, and two cats.<br />
base:        http://www.wickerbox.net/<br />
author:      Jenner &#8216;wicker&#8217; Hanni<br />
email:       jeh.wicker@gmail.com<br />
<br />
disqus_id:       wickerbox<br />
<br />
exclude:     [drafts, endurance-days, _site, scripts]</div>
<h2>The idea behind the script</h2>
<p>I&#8217;ve since put up a Gitolite instance on my own webserver but I haven&#8217;t got around to moving away from Github yet. I&#8217;m deeply in debt to Charlie Park for his <a href="http://charliepark.org/jekyll-with-plugins/">Jekyll with Plugins</a> approach that splits the frontend and backend into two separate directories and scripts the update.</p>
<p>I created the two repositories on Github and keep a local copy of them both. The first, wicker.github.com.raw, contains all the files above. I write a new post and save it in _posts/. I test with jekyll &#8212;server and then (from any directory) I run ./wickerbox and pass a string that will be my git comment.</p>
<p>I have two github repositories associated with the site<br />
wicker.github.com.raw holds the backend files to put through jekyll<br />
wicker.github.com holds the actual site pointed to by wickerbox.net</p>
<p>This script may be run in any directory because <span class="caps">SRCDIR</span> and <span class="caps">PUSHDIR</span> are defined below.<br />
It pushes to the backend repo, runs the jekyll gem, rsyncs the _site<br />
output to the frontend directory, and pushes to the frontend repo.</p>
<p>Pass a single argument enclosed in double quotes for the comment. For example:</p>
<div class="code">./wickerbox &#8220;Updated two-cats.html, testing the script.&#8221;</div>
<p>Warning; you must have _site/ specifically excluded in your $<span class="caps">SRCDIR</span><br />
_config.yml file or this will push the contents of _site to the your backend repo.</p>
<h2>The script itself</h2>
<div class="code"><span class="caps">SRCDIR</span>=/home/wicker/proj/wicker.github.com.raw/<br />
<span class="caps">PUSHDIR</span>=/home/wicker/proj/wicker.github.com/</div>
<p>Start in the backend directory</p>
<div class="code">cd $<span class="caps">SRCDIR</span>/</div>
<p>Add backend files, commit, push to backend Github repo</p>
<div class="code">git add -A<br />
git commit -m &#8220;$1&#8221;<br />
git push origin master</div>
<p>Once working files are done, use them to generate the site</p>
<div class="code">jekyll</div>
<p>Output of the rubygem is put into the _site directory</p>
<div class="code">cd $<span class="caps">SRCDIR</span>/_site/</div>
<p>Rsync the contents of the backend _site to the frontend directory</p>
<div class="code">rsync -avz . $<span class="caps">PUSHDIR</span><br />
<br />
cd $<span class="caps">PUSHDIR</span></div>
<p>Add new files, commit with message, push to frontend repo<br />
Github pages will send a note to you when they&#8217;ve built the new page.</p>
<div class="code">git add -A<br />
git commit -m &#8220;$1&#8221;<br />
git push origin master</div>
<h2>Further reading&#8230;</h2>
<p>Jekyll was created by <a href="https://github.com/mojombo/">Tom Preston-Warner</a> at Github. The wiki for the project is useful, but I&#8217;d recommend starting at the <a href="https://github.com/mojombo/jekyll/wiki/Sites">Sites</a> page first to see the many, many varied implementations.</p>
<p>Klepas has a nice <a href="http://klepas.org/jekyll-a-static-site-generator/">longer-form explanation</a> of how to get started.</p>
<p>The source of my two repositories is freely available at my <a href="http://github.com/wicker">Github</a>.</p></div>
    </div>
    <div class="grid_1">&nbsp;</div>


  
    <div class="clear">&nbsp;</div>



  <div class="clear"></div>

</section>

 
<footer class="container_16 tagcloud">
  <div class="grid_16">
    <div style="padding: 10px 25px 10px 25px;">
      &nbsp; &nbsp; <a href="/tags/arizona/" title="Pages tagged arizona" style="font-size: 176%" rel=\"tag\">arizona</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/australia/" title="Pages tagged australia" style="font-size: 116%" rel=\"tag\">australia</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/avt/" title="Pages tagged avt" style="font-size: 100%" rel=\"tag\">avt</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/boards/" title="Pages tagged boards" style="font-size: 100%" rel=\"tag\">boards</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/bosnia/" title="Pages tagged bosnia" style="font-size: 100%" rel=\"tag\">bosnia</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/botanical/" title="Pages tagged botanical" style="font-size: 126%" rel=\"tag\">botanical</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/c/" title="Pages tagged c" style="font-size: 100%" rel=\"tag\">c</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/california/" title="Pages tagged california" style="font-size: 142%" rel=\"tag\">california</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/code/" title="Pages tagged code" style="font-size: 116%" rel=\"tag\">code</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/colorado/" title="Pages tagged colorado" style="font-size: 138%" rel=\"tag\">colorado</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/croatia/" title="Pages tagged croatia" style="font-size: 100%" rel=\"tag\">croatia</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/desert/" title="Pages tagged desert" style="font-size: 174%" rel=\"tag\">desert</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/endurance-days/" title="Pages tagged endurance days" style="font-size: 154%" rel=\"tag\">endurance days</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/england/" title="Pages tagged england" style="font-size: 116%" rel=\"tag\">england</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/flying/" title="Pages tagged flying" style="font-size: 174%" rel=\"tag\">flying</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/geology/" title="Pages tagged geology" style="font-size: 151%" rel=\"tag\">geology</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/hardware/" title="Pages tagged hardware" style="font-size: 126%" rel=\"tag\">hardware</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/hiking/" title="Pages tagged hiking" style="font-size: 168%" rel=\"tag\">hiking</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/historic/" title="Pages tagged historic" style="font-size: 154%" rel=\"tag\">historic</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/iraq/" title="Pages tagged iraq" style="font-size: 138%" rel=\"tag\">iraq</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/jekyll/" title="Pages tagged jekyll" style="font-size: 100%" rel=\"tag\">jekyll</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/marine-corps/" title="Pages tagged marine corps" style="font-size: 156%" rel=\"tag\">marine corps</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/nevada/" title="Pages tagged nevada" style="font-size: 116%" rel=\"tag\">nevada</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/ninety-nines/" title="Pages tagged ninety-nines" style="font-size: 100%" rel=\"tag\">ninety-nines</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/norway/" title="Pages tagged norway" style="font-size: 100%" rel=\"tag\">norway</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/ocean/" title="Pages tagged ocean" style="font-size: 142%" rel=\"tag\">ocean</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/oregon/" title="Pages tagged oregon" style="font-size: 158%" rel=\"tag\">oregon</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/phoenix/" title="Pages tagged phoenix" style="font-size: 116%" rel=\"tag\">phoenix</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/projects/" title="Pages tagged projects" style="font-size: 162%" rel=\"tag\">projects</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/quadcopter/" title="Pages tagged quadcopter" style="font-size: 100%" rel=\"tag\">quadcopter</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/robots/" title="Pages tagged robots" style="font-size: 132%" rel=\"tag\">robots</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/rockets/" title="Pages tagged rockets" style="font-size: 100%" rel=\"tag\">rockets</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/singapore/" title="Pages tagged singapore" style="font-size: 100%" rel=\"tag\">singapore</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/sites/" title="Pages tagged sites" style="font-size: 100%" rel=\"tag\">sites</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/slovenia/" title="Pages tagged slovenia" style="font-size: 100%" rel=\"tag\">slovenia</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/solar-system/" title="Pages tagged solar system" style="font-size: 100%" rel=\"tag\">solar system</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/sonora/" title="Pages tagged sonora" style="font-size: 116%" rel=\"tag\">sonora</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/sweden/" title="Pages tagged sweden" style="font-size: 100%" rel=\"tag\">sweden</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/switzerland/" title="Pages tagged switzerland" style="font-size: 126%" rel=\"tag\">switzerland</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/tortoise/" title="Pages tagged tortoise" style="font-size: 100%" rel=\"tag\">tortoise</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/trains/" title="Pages tagged trains" style="font-size: 116%" rel=\"tag\">trains</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/travels/" title="Pages tagged travels" style="font-size: 200%" rel=\"tag\">travels</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/tucson/" title="Pages tagged tucson" style="font-size: 100%" rel=\"tag\">tucson</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/turkey/" title="Pages tagged turkey" style="font-size: 156%" rel=\"tag\">turkey</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/utah/" title="Pages tagged utah" style="font-size: 132%" rel=\"tag\">utah</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/washington/" title="Pages tagged washington" style="font-size: 100%" rel=\"tag\">washington</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/water/" title="Pages tagged water" style="font-size: 100%" rel=\"tag\">water</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/wildlife/" title="Pages tagged wildlife" style="font-size: 126%" rel=\"tag\">wildlife</a> &nbsp; &nbsp;&nbsp; &nbsp; <a href="/tags/yuma/" title="Pages tagged yuma" style="font-size: 149%" rel=\"tag\">yuma</a> &nbsp; &nbsp;
    </div>
  </div>
  <div class="clear"></div>
</footer>


</body>
</html>
